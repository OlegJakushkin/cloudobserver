<?xml version="1.0" encoding="utf-8"?>
<s:WindowedApplication xmlns:fx="http://ns.adobe.com/mxml/2009"     
					   xmlns:s="library://ns.adobe.com/flex/spark" 
					   xmlns:mx="library://ns.adobe.com/flex/mx" 
						showStatusBar="false"
						title="Cloud Observer AIR Client"
						creationComplete="init(event);" 
						width="450" 
						xmlns:cloudobserverbroadcastservice="services.cloudobserverbroadcastservice.*" 
						xmlns:broadcastservice="services.broadcastservice.*"
						xmlns:mxmlY="http://www.yahoo.com/astra/2006/mxml"
	 z="0" viewSourceURL="srcview/index.html">
	
	<fx:Script>
		<![CDATA[

	[Bindable]
	private var array:Array = new Array(Camera.names.length);

           private function init(e:Event):void
         {
         this.minWidth = 450;
         this.maxWidth = 450;
         this.minHeight = Camera.names.length * 132 + 80;
         this.maxHeight  = Camera.names.length * 132 + 80;
	         var im:int = 0;
		     for (im; im < Camera.names.length; im++ )
		     {
		     	var iu:Array = new Array;
		     	iu[0] = (im).toString();
		     	array[im] = iu.toString();  
		     }
	 
	         list.dataProvider = array;
	         this.addEventListener(Event.CLOSING, applicationExitHandler);
        }
        
           private function applicationExitHandler(event:Event):void
    	{
            var openedWindows:Array = NativeApplication.nativeApplication.openedWindows;
            for (var i:int = 0; i < openedWindows.length; i ++) 
            {
               openedWindows[i].close();
            }
		}
	]]>
	</fx:Script>
	
	<mx:Panel layout="absolute"
			  verticalScrollPolicy="off"
			  horizontalScrollPolicy="off"
			  left="10" 
			  right="10" 
			  top="10" 
			  bottom="10" 
			  title="{'Камеры ' + Camera.names.length.toString() + ' штуки имеются в наличии' }"
		 z="0">
		
		<mx:List id="list" 
				 itemRenderer="ListItem"    
				 allowMultipleSelection="true"                
				 width="100%"
				 height="100%"
				 y="16"
				 x="0" alternatingItemColors="[#B8C1CD, #2D2D68]"
			/>
			
	</mx:Panel>
	
</s:WindowedApplication>
