#summary Описание клиента со стороны камер.
#labels Featured,Adobe,AIR,ActionScript,MXML,Cameras,Client
= *Описание клиента со стороны камер* =

= Введение =

Клиент со стороны камер занимает важное место в общей структуре проекта.
Рассмотрим некую абстрактную схему нашего проекта:
[http://cloudobserver.googlecode.com/svn/wiki/AssetsDir/ObstractCtoCCtoC.png]
Мы видим что Клиент со стороны камер несет в себе важную задачу - сбор 
информации с камер и передачу ее на сервера.

= История создания. =

 * Для решения задачи передачи данных с камер на сервер было выбрано писать приложение используя возможности Adobe® AIR™ runtime. Именно эта технология была выбрана из-за нароботанного сообществом Creative Commons (далее если не указанно противное CC) опыта 
разработки насыщенных кроссплатформенных приложений в том числе работающих с видео камерами разных стандартов.
 * Приложение должно было соответствовать следующим стандартам.
  # *Кроссплатформенность* - Работа по меньшей мере на 2х операционных системах разных производителей. 
  # *Самодостаточность* - Возможность работы без установки какого либо дополнительного ПО или Драйверов.
  # *Быстрота работы* - Минимально возможная нагрузка на канал, минимальная нагрузка на CPU пользователя.
  # *Простота в использование* - Интуитивно понятный интерфейс, минимальные требования к действиям со стороны пользователя.

= Основные возможности. =

 # Работа на большинстве распространенных платформ (WINDOWS, MAC OS X, LINUX).
 # Сбор информации о камерах на машине пользователя.
 # Сбор информации с камер на машине пользователя.
 # Работа с несколькими видеокамерами одновременно.
 # Запись видео.
 # Возможность сжатия.
 # Запись по детектору движения.
 # Соединение с сервером.
 # Передача данных.

= Описание Основных возможностей =

== Работа на большинстве распространенных платформ (поддержка WINDOWS, MAC OS X, LINUX) ==

 * Позволяет работать практически с любой машине оснащенной веб камерой или эмулятором последней.
 * Осуществляется за счет платформы разработки Adobe® AIR™ runtime.

== Сбор информации о камерах на машине пользователя. ==
 * Позволяет быстро собрать всю информацию о камерах пользователя для репрезентации и модификации.
 * Используется конструкция ObjectUtil.toString(camera); возвращающая с камеры 
такие свойства как:  
 # *(flash.media::Camera)#0*  Элемент к которому применена процедура ObjectUtil
 #  *activityLevel* Порог интенсивности движения, определяемой камерой.
 #  *bandwidth*  Максимальная пропускная способность в байтах, доступная для текущего исходящего видеоканала.
 #  *currentFPS*  Частота, с которой камера записывает данные (в кадрах в секунду).
 #  *fps* Максимальная частота, с которой камера может записывать данные (в кадрах в секунду).
 #  *height*  Текущая высота записи в пикселах.
 #  *index* Целое число, отсчитываемое от нуля, которым задается индекс камеры согласно содержимому массива, возвращаемого свойством "имена".
 #  *keyFrameInterval* Номер видеокадра, который передается целиком (так называемый ключевой кадр), а не подвергается интерполяции по алгоритму сжатия видео.
 #  *loopback* Определяет режим локального представления данных, записываемых камерой: подвергается сжатию и распаковке, как при прямой передаче с помощью Flash Media Server (true), или не подвергается сжатию (false).
 #  *motionLevel* Задает количество движения, необходимое для отправки события activity.
 #  *motionTimeout* Число миллисекунд с момента, когда камера прекратила распознавать движение, до момента передачи события Activity.
 #  *muted* Логическое значение, показывающее, что пользователь запретил (true), или разрешил (false) доступ к камере в диалоговом окне "Конфиденциальность" проигрывателя Flash Player.
 #  *name*  Имя текущей камеры, возвращенное самой камерой.
 #  *quality* Требуемый уровень качества изображения, который определяется степенью сжатия, применяемого к каждому кадру видео.
 #  *width* Текущая ширина записи, в пикселах.

== Сбор информации с камер на машине пользователя. ==
 * Позволяет формативровать данные нужным образом и проводить с ними манипуляции напремер сжатие.
 * Осуществляется методами класса Camera такими как:
 #  *getCamera* Возвращает ссылку на объект Camera для записи видео.
 #  *setKeyFrameInterval* Определяет, какие кадры видео передаются целиком (так называемые ключевые кадры), а не подвергаются интерполяции по алгоритму сжатия видео.
 #  *setLoopback* Определяет, должен ли использоваться сжатый видеопоток для локального представления камеры.
 #  *setMode* Задает для камеры собственный режим записи, наилучшим образом удовлетворяющий заданным требованиям.
 #  *setMotionLevel* Задает количество движения, необходимое для передачи события Activity.
 #  *setQuality* Задает максимальную пропускную способность в секунду или требуемое качество картинки для текущего исходящего видеоканала.

== Работа с несколькими видеокамерами одновременно. ==
 * Позволяет работать с множеством камет на одной машине.
 * Достигается: 
  # извлечением имен камер Camera.names в некий dataProvider.
  # последовательным применением метода ObjectUtil для каждой камеры.

==  Запись видео. ==
 * Позволяет хранить видео на машине пользователя.
 * Достигается переводом BitmapData кадров в JPEG файлы библиотекой  as3corelib классом JPEGEncoder.

== Возможность сжатия. ==

 
